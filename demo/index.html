<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Codeblocks ‚Äì Demo aanvragen</title>

  <!-- Analytics (optioneel) -->
  <script defer data-domain="codeblocks.nl" src="https://plausible.io/js/script.outbound-links.tagged-events.js"></script>
  <script>window.plausible = window.plausible || function(){(window.plausible.q=window.plausible.q||[]).push(arguments)};</script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --bg:#070a19; --bg2:#10152f; --pri:#7355ff; --pri2:#a18bff;
      --txt:#e7e9f7; --muted:#8a8fae; --r:1rem;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--txt)}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%}

    /* Header */
    .header{position:sticky;top:0;z-index:10;background:rgba(7,10,25,.6);backdrop-filter:blur(6px)}
    .wrap{width:min(92%,1200px);margin-inline:auto}
    .header .row{display:flex;align-items:center;justify-content:space-between;padding:.6rem 0}
    .nav{display:flex;gap:1rem}
    .btn{display:inline-flex;align-items:center;justify-content:center;border:none;border-radius:.9rem;padding:.75rem 1rem;font-weight:800;cursor:pointer;transition:.2s}
    .btn.primary{background:var(--pri);color:#fff}.btn.primary:hover{background:var(--pri2)}
    .btn.ghost{border:2px solid var(--pri);color:var(--pri);background:transparent}
    .btn.ghost:hover{background:var(--pri);color:#fff}

    /* Hero */
    .hero{padding:clamp(4rem,10vw,7rem) 0;text-align:center;border-bottom:1px solid rgba(255,255,255,.07);
      background:linear-gradient(180deg,rgba(115,85,255,.14),transparent 60%)}
    .hero h1{font-size:clamp(2.1rem,4.2vw,3rem);font-weight:900;letter-spacing:-.02em}
    .hero p{color:var(--muted);max-width:760px;margin:.9rem auto 0}

    /* Layout */
    .grid{display:grid;gap:2rem;width:min(92%,1100px);margin:2rem auto 4rem}
    @media (min-width:980px){.grid{grid-template-columns:1.15fr .85fr}}

    .card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.06);border-radius:1.1rem;padding:1.3rem;box-shadow:0 10px 25px -5px rgba(0,0,0,.35)}

    /* Fields */
    .field{display:flex;flex-direction:column;gap:.45rem;margin-bottom:1rem}
    .field label{font-weight:800}
    .input,textarea{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:.8rem;padding:.9rem 1rem;color:var(--txt);outline:none;transition:.2s}
    .input:focus,textarea:focus{border-color:rgba(161,139,255,.9);box-shadow:0 0 0 3px rgba(161,139,255,.15)}
    .hint{color:var(--muted);font-size:.9rem}
    .two{display:grid;gap:1rem}
    @media (min-width:720px){.two{grid-template-columns:1fr 1fr}}

    /* Chips */
    .chips{display:flex;flex-wrap:wrap;gap:.6rem}
    .chips input{position:absolute;opacity:0;pointer-events:none}
    .chips label{display:inline-flex;align-items:center;padding:.6rem .9rem;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);font-weight:700;cursor:pointer;transition:.18s}
    .chips label:hover{transform:translateY(-1px);background:rgba(255,255,255,.09)}
    .chips input:checked + label{background:linear-gradient(180deg,var(--pri),var(--pri2));color:#0d1020;border-color:transparent;box-shadow:0 6px 16px rgba(115,85,255,.35)}

    /* Aside */
    .aside h3{font-size:1.1rem;margin-bottom:.6rem}
    .ul{display:grid;gap:.5rem;margin:0 0 1rem 0}
    .muted{color:var(--muted)}
    .faq .item{border-top:1px solid rgba(255,255,255,.08)}
    .faq .q{display:flex;justify-content:space-between;gap:1rem;width:100%;text-align:left;background:transparent;border:none;color:var(--txt);padding:1rem 0;font-weight:800;cursor:pointer}
    .faq .a{max-height:0;overflow:hidden;transition:max-height .35s ease}
    .faq .a .in{padding:0 0 1rem;color:var(--muted)}
    .faq .item.open .a{max-height:260px}

    /* Toast */
    .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%) translateY(20px);background:#0d1b2a;color:#fff;border:1px solid rgba(161,139,255,.35);border-radius:12px;padding:.8rem 1rem;opacity:0;pointer-events:none;transition:.25s;z-index:20}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0);pointer-events:auto}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="wrap row">
      <a href="/"><img src="https://codeblocks.nl/cdn-homepage/logo-wit.png" alt="Codeblocks" width="120"/></a>
      <nav class="nav">
        <a class="btn ghost" href="/">Home</a>
        <a class="btn primary" href="#demo">Vraag demo aan</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="wrap">
      <h1>Demo aanvragen</h1>
      <p>Leuk dat je ons lesmateriaal wilt proberen! Vul het formulier hieronder in; we nemen snel contact op.</p>
    </div>
  </section>

  <!-- Main -->
  <main class="grid" id="demo">
    <!-- Form -->
    <form id="demoForm" class="card" autocomplete="on">
      <div class="field">
        <label>Ik ben een *</label>
        <div class="chips" role="radiogroup" aria-label="Rol">
          <input type="radio" id="rol-docent"   name="Rol" value="Docent" required><label for="rol-docent">Docent</label>
          <input type="radio" id="rol-school"   name="Rol" value="Schoolleider"><label for="rol-school">Schoolleider</label>
          <input type="radio" id="rol-ict"      name="Rol" value="ICT-co√∂rdinator"><label for="rol-ict">ICT-co√∂rdinator</label>
          <input type="radio" id="rol-ouder"    name="Rol" value="Ouder / Begeleider"><label for="rol-ouder">Ouder / Begeleider</label>
          <input type="radio" id="rol-leerling" name="Rol" value="Leerling"><label for="rol-leerling">Leerling</label>
          <input type="radio" id="rol-anders"   name="Rol" value="Anders"><label for="rol-anders">Anders</label>
        </div>
      </div>

      <div class="two">
        <div class="field">
          <label for="naam">Voor- en achternaam *</label>
          <input id="naam" class="input" type="text" placeholder="Voornaam Achternaam" required/>
        </div>
        <div class="field">
          <label for="email">E-mailadres *</label>
          <input id="email" class="input" type="email" placeholder="jij@school.nl" required/>
        </div>
      </div>

      <div class="two">
        <div class="field">
          <label for="school">School / organisatie *</label>
          <input id="school" class="input" type="text" placeholder="Bijv. SGDC Leidschenveen" required/>
        </div>
        <div class="field">
          <label for="tel">Telefoon</label>
          <input id="tel" class="input" type="tel" placeholder="06 12345678"/>
        </div>
      </div>

      <div class="field">
        <label>Interesse in</label>
        <div class="chips chips-check">
          <input type="checkbox" id="int-blockly"><label for="int-blockly">Blockly ‚Äî groep 7 &amp; 8</label>
          <input type="checkbox" id="int-html"><label for="int-html">Wat is HTML ‚Äî VO</label>
          <input type="checkbox" id="int-custom"><label for="int-custom">Custom demo</label>
        </div>
        <p class="hint">Selecteer √©√©n of meer opties (optioneel).</p>
      </div>

      <div class="field">
        <label for="opm">Opmerking <span class="muted">(optioneel)</span></label>
        <textarea id="opm" rows="5" placeholder="Eventuele wensen, doelgroep, beschikbare tijden‚Ä¶"></textarea>
      </div>

      <button type="submit" class="btn primary" id="submitBtn">Verstuur demo-aanvraag</button>
      <p class="hint" style="margin-top:.6rem">Vrijblijvend. Meestal reactie binnen 1‚Äì2 werkdagen.</p>

      <!-- Honeypot -->
      <input type="text" id="hp" style="position:absolute;left:-9999px" tabindex="-1" autocomplete="off" />
    </form>

    <!-- Aside -->
    <aside class="card aside">
      <h3>Wat kun je verwachten?</h3>
      <ul class="ul">
        <li>Toegang tot lesmateriaal en docentenhandleiding</li>
        <li>Proefperiode in de klas</li>
        <li>Kosteloos &amp; vrijblijvend</li>
      </ul>

      <div class="faq">
        <h3 style="margin: .6rem 0 0.4rem">Veelgestelde vragen</h3>
        <div class="item">
          <button class="q">Is een demo-aanvraag echt vrijblijvend? <span>Ôºã</span></button>
          <div class="a"><div class="in">
            Ja. Met een aanvraag kun je zonder verplichtingen ontdekken of ons lesmateriaal past bij jouw klas en wensen.
          </div></div>
        </div>
        <div class="item">
          <button class="q">Hoe lang mag ik het lesmateriaal uitproberen? <span>Ôºã</span></button>
          <div class="a"><div class="in">
            Standaard drie weken. Meer tijd nodig? Dan verlengen we dit in overleg.
          </div></div>
        </div>
      </div>
    </aside>
  </main>

  <footer style="text-align:center;color:var(--muted);padding:1.5rem 0;border-top:1px solid rgba(255,255,255,.07)">
    ¬© 2025 Codeblocks ‚Ä¢ Een initiatief van <a href="https://howtohack.nl" target="_blank" rel="noopener" style="color:#a18bff;text-decoration:underline">How to Hack</a>
  </footer>

  <!-- Toast -->
  <div class="toast" id="toast">Bedankt! Je aanvraag is verstuurd. ‚úâÔ∏è</div>

  <!-- Firebase (v11.6.1) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    // üîß Jouw Firebase-config (zelfde project als dashboard/admin)
    const firebaseConfig = {
      apiKey: "AIzaSyA0LcMrF62nVwXMtJFpDcPB7bviEZl7Vuk",
      authDomain: "codeblocks-app.firebaseapp.com",
      projectId: "codeblocks-app",
      storageBucket: "codeblocks-app.appspot.com",
      messagingSenderId: "341679011888",
      appId: "1:341679011888:web:125666a5a4b0ff9701d5f5"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // UI
    const form = document.getElementById("demoForm");
    const toast = document.getElementById("toast");
    const submitBtn = document.getElementById("submitBtn");

    // FAQ accordion
    document.querySelectorAll(".faq .q").forEach(btn=>{
      btn.addEventListener("click",()=>{
        const item = btn.closest(".item");
        const open = item.classList.contains("open");
        document.querySelectorAll(".faq .item").forEach(i=>i.classList.remove("open"));
        if(!open) item.classList.add("open");
      });
    });

    function emailValid(v){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v); }
    function showToast(){ toast.classList.add("show"); setTimeout(()=>toast.classList.remove("show"), 4200); }

    form.addEventListener("submit", async (e)=>{
      e.preventDefault();

      // honeypot
      if (document.getElementById("hp").value) return;

      const rol = document.querySelector("input[name='Rol']:checked")?.value || "";
      const naam = document.getElementById("naam").value.trim();
      const email = document.getElementById("email").value.trim();
      const school = document.getElementById("school").value.trim();
      const telefoon = document.getElementById("tel").value.trim();
      const opmerking = document.getElementById("opm").value.trim();

      const interesse = [];
      if (document.getElementById("int-blockly").checked) interesse.push("Blockly ‚Äî groep 7 & 8");
      if (document.getElementById("int-html").checked)    interesse.push("Wat is HTML ‚Äî VO");
      if (document.getElementById("int-custom").checked)  interesse.push("Custom demo");

      if (!rol || !naam || !email || !school){
        alert("Vul minimaal rol, naam, e-mailadres en school/organisatie in.");
        return;
      }
      if (!emailValid(email)){
        alert("Controleer het e-mailadres.");
        return;
      }

      try{
        submitBtn.disabled = true; submitBtn.textContent = "Versturen‚Ä¶";
        await addDoc(collection(db, "demoRequests"), {
          rol, naam, email, school,
          telefoon: telefoon || null,
          interesse: interesse.length ? interesse : null,
          opmerking: opmerking || null,
          status: "nieuw",
          createdAt: serverTimestamp(),
          // klein fingerprintje helpt bij het opsporen van spam (client-side)
          ua: navigator.userAgent.slice(0,140)
        });
        plausible && plausible("demo-aanvraag-start");
        plausible && plausible("demo-aanvraag-succes");
        form.reset();
        showToast();
      } catch(err){
        console.error(err);
        alert("Er ging iets mis met opslaan. Probeer het opnieuw.");
      } finally{
        submitBtn.disabled = false; submitBtn.textContent = "Verstuur demo-aanvraag";
      }
    });
  </script>
</body>
</html>
